---
# Simple Test Service for GraphQL Federation Testing
# Basic httpbin service with OpenAPI spec
apiVersion: core.oam.dev/v1beta1
kind: Application
metadata:
  name: httpbin-api-test
  namespace: default
  labels:
    app.kubernetes.io/name: httpbin-api-test
    app.kubernetes.io/component: test-service
    app.kubernetes.io/part-of: graphql-federation-test
    app.kubernetes.io/managed-by: kubevela
spec:
  components:
  - name: httpbin-service
    type: webservice
    properties:
      # httpbin provides OpenAPI spec at /spec.json
      image: kennethreitz/httpbin:latest
      ports:
      - port: 80
        expose: true
      env:
      - name: PORT
        value: "80"
      resources:
        requests:
          memory: "64Mi"
          cpu: "50m"
        limits:
          memory: "128Mi"
          cpu: "100m"