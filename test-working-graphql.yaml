apiVersion: core.oam.dev/v1beta1
kind: Application
metadata:
  name: test-working-graphql
  namespace: default
  labels:
    app.kubernetes.io/name: test-working-graphql
    app.kubernetes.io/managed-by: kubevela
spec:
  components:
  - name: simple-gateway
    type: graphql-gateway
    properties:
      gatewayImage: nginx:alpine  # Use a working multi-arch image
      serviceSelector:
        app.kubernetes.io/managed-by: kubevela
      autoSchema: true
      schemaRefreshInterval: "5m"
      exposeIntrospection: false
      exposePlayground: true
      enableCors: true
      resources:
        cpu: "200m"
        memory: "256Mi"
      version: "latest"